**ICMPv6** (Internet Control Message Protocol for IPv6) es el protocolo de control y diagn贸stico utilizado en redes IPv6, equivalente al **ICMP** en IPv4, pero con muchas mejoras y funciones adicionales.

---

###  驴Qu茅 hace ICMPv6?

ICMPv6 se encarga de:

- Informar errores en la entrega de paquetes.
- Realizar diagn贸sticos (como el comando `ping`).
- Gestionar funciones esenciales del protocolo IPv6, como la **autoconfiguraci贸n** y la **resoluci贸n de direcciones**.

---

###  Funciones principales

1. **Mensajes de error**:
    
    - _Destination Unreachable_: destino no accesible.
    - _Packet Too Big_: el paquete excede el tama帽o permitido por el enlace.
    - _Time Exceeded_: el paquete ha superado su tiempo de vida.
    - _Parameter Problem_: error en los par谩metros del encabezado.
2. **Mensajes informativos**:
    
    - _Echo Request / Echo Reply_: usados por `ping` para verificar conectividad.
3. **Vecindad (Neighbor Discovery Protocol - NDP)**:
    
    - Reemplaza ARP en IPv6.
    - Incluye mensajes como:
        - **Router Solicitation (RS)**
        - **Router Advertisement (RA)**
        - **Neighbor Solicitation (NS)**
        - **Neighbor Advertisement (NA)**
        - **Redirect**
4. **Autoconfiguraci贸n sin estado**:
    
    - Permite que un dispositivo obtenga su direcci贸n IPv6 autom谩ticamente sin necesidad de DHCP.

---

###  驴Por qu茅 es importante?

ICMPv6 no solo sirve para diagn贸stico, sino que es **fundamental para el funcionamiento de IPv6**, ya que gestiona la comunicaci贸n entre dispositivos, la detecci贸n de routers, y la asignaci贸n de direcciones.

---

El **protocolo NDP (Neighbor Discovery Protocol)** es una parte fundamental de **IPv6** y reemplaza varias funciones que en IPv4 eran realizadas por otros protocolos como **ARP**, **ICMP**, y **DHCP**. NDP permite que los dispositivos en una red IPv6 descubran informaci贸n sobre sus vecinos y sobre la red misma.

---

###  驴Qu茅 funciones cumple NDP?

1. **Descubrimiento de vecinos**  
    Permite que un dispositivo descubra la direcci贸n MAC de otro dispositivo en la misma red local (similar a ARP en IPv4).
    
2. **Descubrimiento de routers**  
    Los dispositivos pueden encontrar routers disponibles en la red sin necesidad de configuraci贸n manual.
    
3. **Autoconfiguraci贸n de direcciones**  
    Permite que un dispositivo configure autom谩ticamente su direcci贸n IPv6 (sin DHCP), usando informaci贸n recibida de los routers.
    
4. **Detecci贸n de direcciones duplicadas (DAD)**  
    Verifica que una direcci贸n IPv6 no est茅 siendo usada por otro dispositivo en la red.
    
5. **Redirecci贸n de rutas**  
    Un router puede informar a un host de una mejor ruta para llegar a un destino.
    

---

###  Tipos de mensajes ICMPv6 usados por NDP

|Mensaje|Funci贸n|
|---|---|
|**Router Solicitation (RS)**|Un host solicita informaci贸n a los routers cercanos.|
|**Router Advertisement (RA)**|El router responde con informaci贸n de red (prefijos, MTU, etc.).|
|**Neighbor Solicitation (NS)**|Un dispositivo pregunta por la direcci贸n MAC de otro.|
|**Neighbor Advertisement (NA)**|Respuesta con la direcci贸n MAC solicitada.|
|**Redirect**|El router indica una mejor ruta para llegar a un destino.|

---

###  驴Por qu茅 es importante?

NDP permite que **IPv6 funcione sin necesidad de configuraciones manuales** o servidores DHCP en muchas situaciones. Adem谩s, mejora la seguridad y eficiencia en comparaci贸n con los mecanismos de IPv4.

---

![[Pasted image 20250828083544.png]]

![[Pasted image 20250828083614.png]]

![[Pasted image 20250828083636.png]]